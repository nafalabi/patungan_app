{{define "content"}}
<div class="flex justify-between items-center mb-6">
	<h1 class="text-2xl font-bold text-text-primary">Plans</h1>
	<a href="/plans/create"
		class="inline-flex items-center gap-2 px-5 py-2.5 rounded-lg border-none cursor-pointer font-medium no-underline transition-all duration-200 bg-primary text-white hover:bg-primary-hover hover:-translate-y-px">+
		Create New Plan</a>
</div>

<div class="w-full bg-bg-card rounded-xl border border-border overflow-hidden">
	<table class="w-full border-collapse">
		<thead>
			<tr class="bg-bg-body border-b border-border text-left">
				<th class="p-4 font-semibold text-text-secondary text-sm uppercase tracking-wider">Name</th>
				<th class="p-4 font-semibold text-text-secondary text-sm uppercase tracking-wider">Interval</th>
				<th class="p-4 font-semibold text-text-secondary text-sm uppercase tracking-wider">Price</th>
				<th class="p-4 font-semibold text-text-secondary text-sm uppercase tracking-wider">Status</th>
				<th class="p-4 font-semibold text-text-secondary text-sm uppercase tracking-wider">Actions</th>
			</tr>
		</thead>
		<tbody class="divide-y divide-border">
			{{range .Plans}}
			<tr class="hover:bg-bg-hover transition-colors">
				<td class="p-4 text-text-primary">{{.Name}}</td>
				<td class="p-4 text-text-primary capitalize">{{.PayInterval}}</td>
				<td class="p-4 text-text-primary">Rp {{.TotalPrice}}</td>
				<td class="p-4">
					{{if .IsActive}}
					<span class="px-2 py-1 rounded text-xs font-medium bg-success/20 text-success">Active</span>
					{{else}}
					<span class="px-2 py-1 rounded text-xs font-medium bg-danger/20 text-danger">Inactive</span>
					{{end}}
				</td>
				<td class="p-4 flex gap-2">
					<a href="/plans/{{.ID}}/edit"
						class="inline-flex items-center gap-2 px-3 py-1.5 rounded-lg border-none cursor-pointer font-medium no-underline transition-all duration-200 bg-primary text-white hover:bg-primary-hover hover:-translate-y-px text-sm">Edit</a>
					<form method="POST" action="/plans/{{.ID}}/delete" onsubmit="return confirm('Are you sure?')">
						<button type="submit"
							class="inline-flex items-center gap-2 px-3 py-1.5 rounded-lg border-none cursor-pointer font-medium no-underline transition-all duration-200 bg-danger text-white hover:bg-red-600 hover:-translate-y-px text-sm">Delete</button>
					</form>
				</td>
			</tr>
			{{else}}
			<tr>
				<td colspan="5" class="p-8 text-center text-text-secondary">No plans found.</td>
			</tr>
			{{end}}
		</tbody>
	</table>
</div>
{{end}}